{# base_timetable.html #}
{# parent-template pre vypisanie rozvrhu #}
{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}
{% block content__header_name %}{{ content__header_name }}{% endblock %}


{% block content_timetable %}
    <div class="content_timetable">

    </div>
{% endblock %}


{% block content__timetable_list %}
        <table id="rozvrhList" class="vysledky_podrobneho_hladania">
        <tbody>
        <tr>
            <th>Deň</th>
            <th>Od</th>
            <th>Do</th>
            <th>Miestnosť</th>
            <th>Typ</th>
            <th>Kód</th>
            <th>Predmet</th>
            <th>Vyučujúci</th>
            <th>Poznámka</th>
        </tr>

        {% for lesson in lessons %}
            <tr>
                <td>{{  lesson['day'] }}</td>
                <td>{{  lesson['start'] }}</td>
                <td>{{  lesson['end'] }}</td>
                <td><a href="{{ url_for('timetable_room', room_name=lesson['room']) }}">{{ lesson['room'] }}</a></td>
                <td>{{ lesson['type'] }}</td>
                <td>{{ lesson['code'] }}</td>
                <td>
                    {% if lesson['code'] %}
                        <a href="https://sluzby.fmph.uniba.sk/infolist/SK/{{ lesson['code'] }}.html">{{ lesson['subject'] }}</a>
                    {% else %}
                        {{ lesson['subject'] }}
                    {% endif %}
                </td>
                <td>
                {% if lesson['teachers_dict'] %}
                    {%  for slug, short_name in lesson['teachers_dict'].items() -%}
                        <a href="{{ url_for('timetable_teacher', teacher_slug=slug) }}">{{ short_name }}</a>
                        {%- if not loop.last -%}
                            {{ ', ' }}
                        {%- endif %}
                    {%- endfor %}
                {% endif %}
                </td>
                <td>{{ lesson['note'] }}</td>
            </tr>
        {% endfor %}
        </tbody>
        </table>

{% endblock %}